---
title: "2022년 회고"
date: 2023-01-01 16:36:00 +0900
aliases: 
tags: 
categories: 
---

### 2021.09

2021년 9월. 작은 스타트업에 개발자로서의 전직을 완료. 대우는 그렇게 좋다고 할 수 없었지만 매력적인 비즈니스 모델에 이끌려서 더 좋은 제안을 했던 Series C 회사를 포기하고 Seed 단계인 현 회사에 입사하게 됨. 작편곡 관련 일은 소수의 친한 지인에게만 일을 받음. 그 외는 모두 거절하고 개발 역량 향상에 집중함.

### 2021.10

이 시점의 팀의 코드 레벨은 안타깝지만 빈 말로도 높다고 할 수는 없었음. JPA 에 대한 이해가 부족한 코드, Spring 에 대한 이해는 커녕 Java 에 대한 이해가 부족한 코드가 90% 이상. 그나마 코드 퀼리티에 신경 쓰던 시니어급 개발자는 건강상의 이유로 인해 퇴사하게 되어 사내에 코드 품질을 신경쓰는 개발자가 몇 되지 않는 상황. 아무리 비즈니스 모델이 뛰어나다해도 이 환경에서 지속적인 성장이 가능할지 의심스러웠음.

팀원의 전체적인 개발 역량 향상을 위해서 수시로 페어 프로그래밍을 시도. 일부 시니어 개발자와 의견 충돌이 있어서 어떻게 커뮤니케이션을 해야할지 고민되는 날들. 너무 자신의 생각을 강요하면 옛날 방식으로 개발하시던 분들의 거부감을 불러일으킬 수 있기 때문에, 조심스러운 접근이 필요하다고 생각하였고, 더 좋은 개발 방식을 보여주다보면 자연스럽게 따라오게 될 것이라고 생각하고 어떤 방식의 설계 및 구현이 Best practice 인지 꾸준히 소통하면서 자연스럽게 코드 품질을 신경 쓰는 분위기를 조성하는데 주력함.

### 2022.02

가장 힘든 건 개발이 아니라 커뮤니케이션임을 여실히 느끼는 일상. 회사에서는 퇴사한 시니어 개발자의 코드를 유지보수하려다가 새로 만드는게 낫겠다는 판단, 곧 새로운 애플리케이션의 설계 및 구현의 임무가 나에게 주어짐. 애플리케이션의 성격은 배치로, 기존 시니어 개발자는 스프링 배치가 아닌 순수한 자바로 구현해뒀는데 크게 아래와 같은 문제가 있었다.

- 전체적인 일관성 부족
- 테스트 코드의 부재
- 수동 배포
- 버전 관리를 하지 않음(...), 히스토리 파악에 상당한 애로사항이 있었고 심지어 운영 중인 코드와 개발 중인 코드 사이에 상당한 유리가 존재했기 때문에 뭐가 맞는건지 어떤 의도인건지조차 알 수 없었음.

유감스럽게도 참고할만한 내용이 거의 없었기 때문에 바닥부터 재설계.

### 2022.04

2월에 설계를 시작하고 실제 동작까지 약 2개월이 소요되었다. 이 시점 이후로는 자잘한 버그를 수정하거나 성능의 조율만 있었기 때문에 완성 시점을 4월로 봤다.

결과적으로 개선된 부분은 크게 아래와 같다.

- 스프링 배치를 적용하여 유지보수성 및 개발 생산성을 개선
- 젠킨스를 적용하여 스케쥴링, 환경 변수 등의 설정을 외부에서 컨트롤할 수 있게 하여 운영 편의성 개선
- AWS lambda 를 사용하여 필요한 데이터가 생성되었을 때만 배치가 실행되게 구현했고, 결과적으로 리소스를 절약
- 모든 부분에 테스트 코드를 작성. 커버리지는 약 94%.

특히 문서화 및 테스트에 신경을 많이 썼는데 나중에 다른 개발자가 내가 작성한 코드를 봤을 때 분석이 최대한 쉽도록 만들고 싶었기 때문이다.

### 2022.07

또 다른 새로운 프로젝트로, 일종의 데이터 검증을 위한 서비스를 요청받았다. 배치로 구현했으며 팀원 한 명과 페어로 개발을 진행하게 되었다. 가장 신경 쓴 부분은 다음과 같다.

- 쉬운 사용법
- [[GitLab]] 을 최대한 활용
- 테스트 커버리지 100%
- 모든 코드에 대한 철저한 리뷰
- 코드 포맷에 대해 통일된 스타일 적용(어길시 빌드 실패)

이 때 개발한 서비스는 배치였는데 주 사용자는 사내 개발자들이였다. docker image 를 배포하고 parameter 를 문서화하여 제공하면 충분히 사용가능한 분들이기 때문에, 그리하였다. 주의해야할 점은, 동시에 너무 많은 서비스가 실행되면 내부적으로 데이터 처리에 사용하는 API 서버가 수많은 요청을 감당하지 못한다는 점이였다. 이 API 서버는 외주 업체가 관리하는 서버였기 때문에 직접 최적화가 불가능하였고, 어쩔 수 없이 실행되는 동시에 실행되는 서비스의 개수를 조절해야했다. 다행인지 불행인지 이 서비스는 많은 개발자가 동시에 실행시킬 필요는 없는 서비스였다.

