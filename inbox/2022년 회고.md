---
title: "2022년 회고"
date: 2023-01-01 16:36:00 +0900
aliases: 
tags: 
categories: 
---

### 2021.09

2021년 9월. 작은 스타트업에 개발자로서의 전직을 완료. 대우는 그렇게 좋다고 할 수 없었지만 매력적인 비즈니스 모델에 이끌려서 더 좋은 제안을 했던 Series C 회사를 포기하고 Seed 단계인 현 회사에 입사하게 됨. 작편곡 관련 일은 소수의 친한 지인에게만 일을 받음. 그 외는 모두 거절하고 개발 역량 향상에 집중함.

### 2021.10

이 시점의 팀의 코드 레벨은 안타깝지만 빈 말로도 높다고 할 수는 없었음. JPA 에 대한 이해가 부족한 코드, Spring 에 대한 이해는 커녕 Java 에 대한 이해가 부족한 코드가 90% 이상. 테스트는 커녕 왜 테스트를 써야하는지에 공감하지 못하는 분도 계셨고, 테스트를 쓰면 생산성이 더 떨어진다고까지 이야기를 들었다. 그나마 코드 퀼리티에 신경 쓰던 시니어급 개발자는 건강상의 이유로 인해 퇴사하게 되어 사내에 코드 품질을 신경쓰는 개발자가 몇 되지 않는 상황. 아무리 비즈니스 모델이 뛰어나다해도 이 환경에서 지속적인 성장이 가능할지 의심스러웠음.

하지만, 실력 있는 개발자들은 레거시만 보면 개선할 생각에 군침이 싹 돈다(...)고 그러던데 군침까진 아니여도 이 회사에서 내가 할 수 있는 것이 틀림없이 존재한다는 생각에 의욕이 더 생겼다.

팀원의 전체적인 개발 역량 향상을 위해서 수시로 페어 프로그래밍을 시도. 일부 시니어 개발자와 의견 충돌이 있어서 어떻게 커뮤니케이션을 해야할지 고민되는 날들. 너무 자신의 생각을 강요하면 옛날 방식으로 개발하시던 분들의 거부감을 불러일으킬 수 있기 때문에, 조심스러운 접근이 필요하다고 생각하였고, 더 좋은 개발 방식을 보여주다보면 자연스럽게 따라오게 될 것이라고 생각함. 어떤 방식의 설계 및 구현이 Best practice 인지 꾸준히 소통하면서 자연스럽게 코드 품질을 신경 쓰는 분위기를 조성하는데 주력함.

### 2022.02

가장 힘든 건 개발이 아니라 커뮤니케이션임을 여실히 느끼는 일상. 회사에서는 퇴사한 시니어 개발자의 코드를 유지보수하려다가 새로 만드는게 낫겠다는 판단, 곧 새로운 애플리케이션의 설계 및 구현의 임무가 나에게 주어짐. 애플리케이션의 성격은 배치로, 기존 시니어 개발자는 스프링 배치가 아닌 순수한 자바로 구현해뒀는데 크게 아래와 같은 문제가 있었다.

- 전체적인 일관성 부족
- 테스트 코드의 부재
- 수동 배포
- 버전 관리를 하지 않음(...), 히스토리 파악에 상당한 애로사항이 있었고 심지어 운영 중인 코드와 개발 중인 코드 사이에 상당한 유리가 존재했기 때문에 뭐가 맞는건지 어떤 의도인건지조차 알 수 없었음.

유감스럽게도 참고할만한 내용이 거의 없었기 때문에 바닥부터 재설계.

### 2022.04

2월에 설계를 시작하고 실제 동작까지 약 2개월이 소요되었다. 이 시점 이후로는 자잘한 버그를 수정하거나 성능의 조율만 있었기 때문에 완성 시점을 4월로 봤다.

결과적으로 개선된 부분은 크게 아래와 같다.

- 스프링 배치를 적용하여 유지보수성 및 개발 생산성을 개선
- 젠킨스를 적용하여 스케쥴링, 환경 변수 등의 설정을 외부에서 컨트롤할 수 있게 하여 운영 편의성 개선
- AWS lambda 를 사용하여 필요한 데이터가 생성되었을 때만 배치가 실행되게 구현했고, 결과적으로 리소스를 절약
- 모든 부분에 테스트 코드를 작성. 커버리지는 약 94%.

특히 문서화 및 테스트에 신경을 많이 썼는데 나중에 다른 개발자가 내가 작성한 코드를 봤을 때 분석이 최대한 쉽도록 만들고 싶었기 때문이다.

이 시점에서부터 기존 시니어 개발자 분들도 테스트의 필요성에 대해 공감해주기 시작한다고 느껴졌다. 테스트를 쓰지 않던 서비스가 너무 불안정해서 그랬는지 모르겠지만, 어쨌든 설계의 완성은 꼼꼼한 테스트에서 비롯된다는 점에 공감을 얻을 수 있어서 그 동안의 커뮤니케이션이 헛되지 않았구나 하는 생각이 들었다.

### 2022.07

또 다른 새로운 프로젝트로, 일종의 데이터 검증을 위한 서비스를 요청받았다. 배치로 구현했으며 팀원 한 명과 페어로 개발을 진행하게 되었다. 가장 신경 쓴 부분은 다음과 같다.

- 쉬운 사용법
- [[GitLab]] 을 최대한 활용
- 테스트 커버리지 100%
- 모든 코드에 대한 철저한 리뷰
- 코드 포맷에 대해 통일된 스타일 적용(어길시 빌드 실패)

이 때 개발한 서비스는 배치였는데 주 사용자는 사내 개발자들이였다. docker image 를 배포하고 parameter 를 문서화하여 제공하면 충분히 사용가능한 분들이기 때문에, 그리하였다. 주의해야할 점은, 동시에 너무 많은 서비스가 실행되면 내부적으로 데이터 처리에 사용하는 API 서버가 수많은 요청을 감당하지 못한다는 점이였다. 이 API 서버는 외주 업체가 관리하는 서버였기 때문에 직접 최적화가 불가능하였고, 어쩔 수 없이 동시에 실행되는 서비스의 개수를 조절해야했다. 다행인지 불행인지 이 서비스는 많은 개발자가 동시에 실행시킬 필요는 없는 서비스였다.

### 2022.08

또 새로운 프로젝트. 이번에는 다양한 외부 업체들의 API 를 통합하는 서비스의 설계 및 구현을 요청받음. 다양한 API model 들을 사내에서 활용할 수 있도록 통일된 model 로 mapping 하는 것이 주된 목적. 추가되는 외부 업체의 수는 상당히 많기 때문에 확장성에 가장 큰 중점을 두고 설계해야 했음. 이 시점에서 MSA 를 고민했지만, 아직 그 정도 수준에 다다른 서비스라는 생각이 들지 않았고 추후 적절한 시점, 원하는 시점에 편하게 넘어갈 수 있도록 최대한 모듈화하여 패키지 구조를 디자인하고 구현함.

### 2022.12

젠킨스 플러그인이 말썽이여서 배치가 하루정도 실행이 안되는 장애가 있었다. 8개월 무사고였는데, 안타까웠다. 플러그인의 버전 호환성 때문에 다운그레이드 과정에서 secret 정보가 유실되었고, 권한 문제로 젠킨스가 배치를 실행시키지 못하는 문제였다. 이후 secret 이 유실되지 않도록 조치했으며, 플러그인 업데이트에서는 호환성을 꼼꼼하게 살펴보게 되었다. 

## Concolusion

여전히 갈 길이 멀다. 항상 회사에서의 내 역할이 무엇이고 어디까지 할 수 있는걸까, 어디까지가 해도 되는 걸까 고민을 한다. 그렇게 테스트 코드를 강조하고 객체지향 프로그래밍에 대해 언급을 한들, 여전히 테스트를 적지 않는 분들도 많다. 개발에 대한 열정이 다 식어버린 것일까. 열렬히 기술에 대해 토론하고 싶은데 아쉬운 일이다.

그러면서도 회사의 Series A 투자는 완료되었고, 입사할 때 목표는 달성되었다. 2023년은 경기 침체가 확실시 되지만, 이미 해야할 역할은 충분히 했다고 생각한다. 앞으로 얼마나 더 있을지는 모르겠지만, 적어도 구성원으로서 지내는 동안 내가 개발하는 서비스는 누구나 쉽게 개발을 지속할 수 있는, 그런 세련되고 우아한 서비스를 만들기 위해 최선을 다하고자 한다.

