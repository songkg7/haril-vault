---
title: Docker Study Chapter 19
date: 2023-12-08 16:50:00 +0900
aliases: 
tags:
  - docker
  - study
  - log
categories: 
updated: 2023-12-16 14:14:42 +0900
---

# 도커를 이용한 로그 생성 및 관리

- 도커는 표준 출력 스트림을 통해 로그를 수집한다

## 표준 에러 스트림과 표준 출력 스트림

[[Docker Image|docker image]]

- 컨테이너를 시작할 때 실행되는 프로세스는 포어그라운드로 동작한다.
- 셸 세션을 시작하고 명령을 하나 입력하는 것과 비슷
- 도커는 각 컨테이너의 stdout 과 stderr 스트림을 주시하며 스트림을 통해 출력되는 내용을 수집
- 도커의 로그 설정을 변경하여 다양한 요구사항에 대응할 수 있다

## 다른 곳으로 출력된 로그를 stdout 스트림에 전달하기

- 출력 스트림으로 아무 내용도 출력하지 않는 애플리케이션이 있을 수 있다
- 다른 곳으로 출력된 로그를 표준 출력으로 내보내주는 별도의 프로세스를 컨테이너 시작 명령에서 실행하면 된다
- 로그를 전달하는 과정과 저장하는 과정이 두 번씩 실행되면서 연산 능력과 디스크 용량이 낭비되는 것은 단점

## 컨테이너 로그 수집 및 포워딩하기

- fluentd 를 사용한 로그 포워딩
- fluentd 는 많은 기능을 지원하며 가볍고 빠르지만, 설정을 적용하는 과정이 매우 힘들다.

## 로그 출력 및 로그 컬렉션 관리하기

- 도구를 사용하여 로그를 필터링 하는 등의 재가공 처리가 편리해진다.

## 컨테이너의 로깅 모델

- 모든 애플리케이션 로그는 컨테이너 로그로 출력해야 이후 로그를 원하는대로 다룰 수 있다.
