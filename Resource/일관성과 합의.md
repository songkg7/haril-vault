---
title: 일관성과 합의
date: 2023-11-13 17:47:00 +0900
aliases: 
tags:
  - study
categories: 
updated: 2023-11-14 21:52:57 +0900
---

## 분산 트랜잭션과 합의

> 여러 노드들이 뭔가에 동의하게 만드는 것

### [[Two Phase Commit|2PC]]

- 코디네이터라고 불리는 트랜잭션 관리자를 사용
- 모든 참여자가 코디네이터에게 "네" 라고 응답해야 참여자들이 커밋할 수 있다
- 코디네이터는 모든 준비 요청에 대해 응답을 받았을 때 최종 결정을 하며, 이 때 디스크에 로그를 기록해야 한다. 이를 **커밋 포인트**라고 부른다.
- 코디네이터가 일종의 "독재자"가 되어 모든 결정을 내리기 때문에, 코디네이터가 죽는다면 데이터베이스가 제 구실을 못하게 될 위험이 있다
