---
title: R-tree
date: 2024-01-21 22:14:00 +0900
aliases: 
tags:
  - r-tree
  - spatial-index
  - gist
  - geometry
categories: 
updated: 2024-02-06 16:06:28 +0900
---

## R-tree 란?

R-tree는 공간 데이터를 효율적으로 관리하기 위한 인덱스 구조로, 공간 데이터베이스나 지리 정보 시스템에서 사용된다. R-tree는 다차원 공간 객체를 계층적으로 구성하여 검색과 질의를 빠르게 수행할 수 있도록 한다.

R-tree는 [[B+Tree]] 와 유사한 개념을 가지며, 다차원 공간 객체를 담는 리프 노드들을 포함하는 내부 노드들로 구성된다. 각 리프 노드는 하나 이상의 공간 객체를 저장하고, 내부 노드는 자식 노드들을 가지며 각 자식 노드가 포함하는 영역을 커버하는 최소 경계 사각형(MBR)을 유지한다. 이러한 리프 노드와 내부 노드의 구조로 인해 R-tree는 다차원 공간 객체에 대한 범위 검색과 근접성 검색 등 다양한 종류의 질의를 효율적으로 처리할 수 있다.

R-tree는 지리 정보 시스템에서 주로 사용되며, 위치 기반 서비스, 지리 분석, 지형 모델링 등 다양한 응용 분야에서 활용되고 있다.

---

큰 레고 상자가 있는데 집을 짓는 데 필요한 모든 조각을 찾으려고 한다고 상상해 보세요. 순서 없이 모든 레고를 상자에 던져 넣으면 조각이 필요할 때마다 상자 전체를 검색해야 하므로 시간이 많이 걸릴 수 있습니다. 이는 정리가 되지 않은 대규모 데이터베이스에서 특정 정보를 찾으려고 할 때와 비슷합니다.

R-Tree는 레고를 색상, 모양, 크기에 따라 작은 상자로 분류하는 것과 같습니다. 각각의 작은 상자에는 그 안에 무엇이 들어 있는지 설명하는 라벨이 붙어 있습니다. 예를 들어 파란색 조각은 모두 한 상자에, 정사각형 조각은 모두 다른 상자에 넣는 식으로 정리할 수 있습니다. 특정 레고 조각이 필요할 때는 먼저 작은 상자의 레이블을 보고 해당 조각이 속할 수 있는 조각 그룹을 찾으면 됩니다. 그런 다음 그 작은 상자 안에서만 검색하여 원하는 조각을 찾으면 됩니다. 이렇게 하면 매번 전체 컬렉션을 검색할 필요가 없으므로 원하는 것을 훨씬 빠르게 찾을 수 있습니다.

컴퓨터 세계에서는 공간 데이터, 즉 지도상의 도시, 도시의 건물 또는 하늘의 별과 같이 물리적 공간에 있는 물체를 나타내는 데이터를 구성하는 데 R-Tree를 사용합니다. 레고의 작은 상자처럼, R-Tree는 공간을 관리하기 쉬운 작은 영역으로 나누고 각 영역에 어떤 데이터가 있는지 추적합니다. 현재 위치에서 100마일 이내에 있는 모든 도시와 같이 특정한 것을 찾고자 할 때, R-Tree는 데이터베이스의 모든 위치를 일일이 살펴볼 필요 없이 컴퓨터가 해당 도시가 포함될 수 있는 영역만 빠르게 찾을 수 있도록 도와줍니다.

따라서 레고를 정리하면 필요한 조각을 더 빨리 찾을 수 있는 것처럼, R-Tree를 사용하면 넓은 공간에서 무언가를 훨씬 빠르고 쉽게 검색할 수 있습니다.
